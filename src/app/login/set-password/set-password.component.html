<div class="log-in">
    <div class="login">
        <h1>Set New Password</h1>
    </div>
    <form [formGroup]="setPasswordForm" (ngSubmit)="submit(setPasswordForm.value)" class="p-2">
        <mat-form-field class="full-width-input" appearance="outline">
            <input matInput type="email" placeholder="Email" formControlName="userName" required>
            <mat-error>
                Please enter valid Email Id.
            </mat-error>
        </mat-form-field>
    
            <span (click)="verifyUser(setPasswordForm.get('userName').value)" > <p class="line cursor" id="blink">Verify Email.</p></span>
       <br> <br>
        <mat-form-field class="full-width-input" appearance="outline" *ngIf="verified">
            <input matInput [type]="passwordType" placeholder="Password" formControlName="password" matInput required>
            <mat-icon matSuffix (click)="hideShowPassword()" class="cursor">{{passwordIcon}}</mat-icon>
            <mat-error>
                Please provide a valid password
            </mat-error>
        </mat-form-field> <br>
        <div *ngIf="verified">
            <span class="enter-otp">OTP has sent to Email ID. Please enter OTP.</span> <br><br>
            <div class="d-flex justify-content-center">
                <mat-form-field class="otp text-center">
                    <input matInput id="codeBox1" class="codebox" type="text" maxlength="1" formControlName="otp1"
                        (keyup)="onKeyUpEvent(1, $event)" autocomplete="off">
                </mat-form-field> &nbsp;&nbsp;
                <mat-form-field class="otp text-center">
                    <input matInput id="codeBox2" class="codebox" type="text" maxlength="1" formControlName="otp2"
                        (keyup)="onKeyUpEvent(2, $event)" autocomplete="off">
                </mat-form-field>&nbsp;&nbsp;
                <mat-form-field class="otp text-center">
                    <input matInput id="codeBox3" class="codebox" type="text" maxlength="1" formControlName="otp3"
                        (keyup)="onKeyUpEvent(3, $event)" autocomplete="off">
                </mat-form-field>&nbsp;&nbsp;
                <mat-form-field class="otp text-center">
                    <input matInput id="codeBox4" class="codebox" type="text" maxlength="1" formControlName="otp4"
                        (keyup)="onKeyUpEvent(4, $event)" autocomplete="off">
                </mat-form-field>&nbsp;&nbsp;
                <mat-form-field class="otp text-center">
                    <input matInput id="codeBox5" class="codebox" type="text" maxlength="1" formControlName="otp5"
                        (keyup)="onKeyUpEvent(5, $event)" autocomplete="off">
                </mat-form-field>&nbsp;&nbsp;
                <mat-form-field class="otp text-center">
                    <input matInput id="codeBox6" class="codebox" type="text" maxlength="1" formControlName="otp6"
                        (keyup)="onKeyUpEvent(6, $event)" autocomplete="off">
                </mat-form-field>
            </div>
        </div> <br>
        <button mat-raised-button class="btn-set" [disabled]="!setPasswordForm.valid">Submit</button> <br>
    </form>
</div>